---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Home from '../../components/Home.astro';
       import About from '../../components/About.astro';
       import Characters from '../../components/Characters.astro';
       import Components from '../../components/Components.astro';
       import ActionProtocol from '../../components/ActionProtocol.astro';
import Rules from '../../components/Rules.astro';
import Footer from '../../components/Footer.astro';
import { languages, getTranslations, getTranslationKey } from '../../utils/i18n';
import type { Language } from '../../utils/i18n';

export async function getStaticPaths() {
  return languages.map((lang) => ({
    params: { lang },
    props: { lang }
  }));
}

const { lang } = Astro.params;
const translations = await getTranslations(lang as Language);
---

<Layout 
    title={getTranslationKey(translations, 'meta.title')} 
    description={getTranslationKey(translations, 'meta.description')}
    lang={lang as Language}
>
    <Header translations={translations} lang={lang as Language} />

               <main>
               <Home translations={translations} lang={lang as Language} />
               <About translations={translations} lang={lang as Language} />
               <Characters translations={translations} lang={lang as Language} />
               <Components translations={translations} lang={lang as Language} />
               <ActionProtocol translations={translations} lang={lang as Language} />
               <Rules translations={translations} lang={lang as Language} />
           </main>

    <Footer translations={translations} lang={lang as Language} />
</Layout> 